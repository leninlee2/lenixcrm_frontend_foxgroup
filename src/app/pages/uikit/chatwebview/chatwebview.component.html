<div class="flex flex-col md:flex-row gap-8">
    <div class="md:w-1/2">
        <div class="card">
            <div class="font-semibold text-xl mb-4">Facebook Marketing</div>
            <iframe
            src="https://app.gethearth.com/dashboard"
            width="100%"
            height="600"
            style="border:none;overflow:hidden"
            allow="encrypted-media"
            sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
          ></iframe>


            <div id="fb-root"></div>
            <div class="fb-customerchat"
                attribution="setup_tool"
                page_id="fpo.trindade">
            </div>
            <!--            
            <div [innerHTML]="safeUrl"></div>
            <div #chatContainer></div>
            <a href="https://m.me/fpo.trindade" target="_blank" rel="noopener noreferrer">
              Chat with us on Messenger
            </a>
            -->

            <!--
            <iframe
              [src]="safeUrl"
              width="100%"
              height="500px"
              style="border: none"
            ></iframe>  
            -->
            <!--
            
        -->
            <!--
            <div id="chatContainer" #chatContainer></div>
            -->
            <!-- Facebook Page Plugin -->
              <!--
              <div class="fb-page" 
              data-href="www.facebook.com/fpo.trindade/messages"  
              data-tabs="timeline"                         
              data-width="600"                             
              data-height="500"                           
              data-small-header="false"                    
              data-adapt-container-width="true"             
              data-hide-cover="false"                     
              data-show-facepile="true" >
              </div>
              -->
          <!--
            <iframe
              src="https://www.facebook.com/messages"
              width="100%"
              height="500px"
              style="border: none"
            ></iframe>  
           -->      
        </div>
    </div>
    <div class="md:w-1/2">
        <div class="card chat-limit" #scrollMe>
            <div class="chat-container">
                <div class="chat-message {{getDirection(message)}}" *ngFor="let message of chatMessages"  >
                    <p-card class="message-card">
                      <ng-template pTemplate="header">
                        <small>&nbsp;{{message.from}}
                        </small>
                      </ng-template>
                      <ng-template pTemplate="content" >
                        <div [innerHTML]="message.message"></div>
                      </ng-template>
                    </p-card>
                </div>                
            </div>
        </div>
        <div class="card">
            <div class="font-semibold text-xl mb-4">Message</div>
            <div class="flex flex-col gap-4 mb-4">
                <div id="editor" style="height: 200px;"></div>
            </div>
            <p-button (click)="addMessage()" label="Sent" severity="success" class="right" />
        </div>
    </div>
</div>

<p-dialog header="Add Pipelines" [modal]="true" [(visible)]="openPipeline" class="poppipeline" >
    <span class="p-text-secondary block mb-8 p-opportunity">Pipeline/Opportunity Information.</span>
          <div class="flex items-center gap-2 mb-4">
            <label for="appointment" class="font-semibold w-24">Appointment</label>
            <p-datepicker id="appointment" class="flex-auto" [(ngModel)]="appointment" [showTime]="true" />
          </div>
          <div class="flex items-center gap-2 mb-4">
              <label for="customer" class="font-semibold w-24">Customer</label>
              <input pInputText id="customer" class="flex-auto" autocomplete="off" [(ngModel)]="customerName" />
          </div>
          <div class="flex items-center gap-2 mb-4">
            <label for="owner" class="font-semibold w-24">Owner</label>
            <input pInputText id="owner" class="flex-auto" autocomplete="off" [(ngModel)]="owner" />
          </div>
          <div class="flex items-center gap-2 mb-4 mt20 left w30p">
            <label for="pipeline" class="font-semibold w-24 ">Pipeline</label>
            <p-select [options]="statuses" placeholder="Select a Pipeline" 
                        optionLabel="name" class="w-full md:w-56" (onChange)="getCategory()" [(ngModel)]="selectedCategory" />
          </div>
          <div class="flex items-center gap-2 mb-4 mt20 left w30p">
            <label for="tab" class="font-semibold w-24">&nbsp;Tab</label>
            <p-select [options]="availablePipelines" placeholder="Select a Tab" 
                      optionLabel="namePipeline" class="w-full md:w-56" [(ngModel)]="selectedPipelinePop" />
          </div>
          <div class="flex items-center gap-2 mb-4 mt20 w30p left" >
            <label for="value" class="font-semibold w-24">Value</label>
            <input pInputText id="value" class="flex-auto" autocomplete="off" [(ngModel)]="value" />
          </div>
          <div class="flex items-center gap-2 mb-2 w50p left" >
            <label for="email" class="font-semibold w-24">Email</label>
            <input pInputText id="email" class="flex-auto" autocomplete="off" [(ngModel)]="email" />
          </div>
          <div class="flex items-center gap-2 mb-2 w50p left">
            <label for="phone" class="font-semibold w-24">&nbsp;Phone</label>
            <input pInputText id="phone" class="flex-auto" autocomplete="off" [(ngModel)]="phone" />
          </div>
          <br/>
          <div class="flex items-center gap-2 mb-4 mt20 left w100p">
            <label for="address" class="font-semibold w-24">Address</label>
            <input pInputText id="address" class="flex-auto" autocomplete="off" [(ngModel)]="address" />
          </div>
          <div class="flex items-center gap-2 mb-4 mt20 left w100p">
            <label for="details" class="font-semibold w-24">Details</label>
            <input pInputText id="details" class="flex-auto" autocomplete="off" [(ngModel)]="details" />
          </div>
          <div class="flex justify-end gap-2 left w100p">
              <p-button label="Cancel" severity="secondary" (click)="closeOpportunity()" />
              <p-button label="Save" (click)="saveNewPipeline()" />
          </div>
    
  </p-dialog>

  <p-dialog header="Archive Chat" [modal]="true" [(visible)]="warnDeleteChat" class="poppipeline" >
  
    <div class="flex items-center gap-2 mb-4 wWarning">
      <label for="pipeline" class="font-semibold w100p">Are you sure that you archive the Chat?</label><br/>
     
    </div>
    <div class="flex items-center gap-2 mb-4 mt20 left w100p">
      <p-button label="No" (onClick)="warnDeleteChat = false" severity="secondary" />
      <p-button label="Yes"  severity="success" />
      <!--(onClick)="deleteChat()"-->
    </div>
    
  </p-dialog>